model User {
    id        String  @id @default(uuid())
    email     String  @unique
    firstName String
    lastName  String
    record    Record? @relation(name: "RecordToUser")

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([id])
}

model Record {
    id          String    @id @default(uuid())
    dob         DateTime
    height      Float
    weight      Float
    gender      Gender
    bloodType   BloodType
    medications String[]
    allergies   String[]
    conditions  String[]
    tests       Test[]    @relation(name: "TestToRecord")

    userId String @unique
    user   User   @relation(fields: [userId], references: [id], name: "RecordToUser")

    createdAt DateTime @default(now())
    updateAt  DateTime @updatedAt

    @@unique([id, userId])
    @@index([id, userId])
}

enum Gender {
    MALE
    FEMALE
}

enum BloodType {
    A_POS
    A_NEG
    B_POS
    B_NEG
    AB_POS
    AB_NEG
    O_POS
    O_NEG
}
